<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<!--
	  Copyright (c) 2011 Lars Gersmann (lars.gersmann@gmail.com, http://orangevolt.blogspot.com)
	  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
	  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
	--> 
	<head>  
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=7,chrome=1; IE=9" />
		
		<title>Orangevolt Ampere $transition Feature example</title>
		
		<script type="text/javascript" src="../lib/jquery-1.5.1.js"></script>
		<script type="text/javascript" src="../lib/jquery/plugins/jquery.defer.js"></script>
		<script type="text/javascript" src="../src/jquery.ampere-defer.js"></script>
		
		<script id="intro" type="text/x-jquery-tmpl">
			<div style="padding:10px"> 
				<p>
					This application shows the <strong>$transition</strong> property usage.
				</p>
			</div>
		</script>
		<script id="demo" type="text/x-jquery-tmpl">
			<dl>
				{{field({label:'Choose a transition'})}}
					{{group}}
						{{radio({label:'None', name:'$transition', value:null})}} 
						{{radio({icon:'ui-icon-triangle-1-e', name:'$transition', value:'stateOne'})}} 
						{{radio({icon:'ui-icon-triangle-1-e', name:'$transition', value:'stateTwo'})}}
						{{radio({icon:'ui-icon-triangle-1-e', name:'$transition', value:'stateThree'})}}
					{{/group}}	
					<div class="description">	
						Select transition to go or <strong>None</strong> for no one<br/>(check what happens to button 'Execute selected transition').
					</div>
				{{/field}}
			</dl>
		</script>
		<script id="stateOne" type="text/x-jquery-tmpl">
			<p>You selected state one.</p>
		</script>
		<script id="stateTwo" type="text/x-jquery-tmpl">
			<p>You selected state two.</p>
		</script>
		<script id="stateThree" type="text/x-jquery-tmpl">
			<p>You selected state three.</p>
		</script>
		<script type="text/javascript">
		$.ampere( function() {
			$.ampere.module( function $transition() {
				this
				.state( function intro()     {},{ label : false})
				.state( function demo()      { this.$transition = null; })
				.state( function stateOne()   {})
				.state( function stateTwo()   {})
				.state( function stateThree() {});

				this.states.intro.transition( this.states.demo);	

				this.states.demo.transition( this.states.stateOne,{
					type   : 'secondary'
				})
				.transition( this.states.stateTwo,{
					type   : 'secondary'
				})
				.transition( this.states.stateThree,{
					type   : 'secondary'
				})				
				.transition( null, { 
					label  : 'Execute selected transition',
					target : '$transition'
				});
			}, 
			{ 
				state    : 'intro',
				label    : $( 'head >title').text(),
				about    : $('<div><a target="_blank" href="https://github.com/lgersman/jquery.orangevolt-ampere">Ampere</a> - CopyrightÂ© 2011 by <a target="_blank" href="http://www.orangevolt.com">Orangevolt</a>.</div>')
			});
			
			$.when( $.ampere.theme).done( function() {
				$( 'body').module( '$transition');
			});
		},
		{ 
			debug : true
		}
		);
		</script>
	</head>
	<body>
	</body>
</html>